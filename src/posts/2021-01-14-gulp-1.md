---
layout: post
title: Gulp.js - ì‹œì‘í•˜ê¸°
comments: false
categories: [Gulp]
tags: [gulp, javascript]
date: "2021-01-14"
image: test
---

# ğŸ¥¤ Gulp ì‹œì‘í•˜ê¸° 
ì¼ë‹¨ Gulpë¥¼ ì‹œì‘í•˜ê¸° ì•ì„œ **Node.js**ì™€ **npm**ì´ í•„ìš”í•˜ë‹¤.   
npmì€ node.jsê°€ ì„¤ì¹˜ë˜ë©´ ìë™ìœ¼ë¡œ ê°™ì´ ë”¸ë ¤ì˜¤ë‹ˆ ë”°ë¡œ ì„¤ì¹˜ëŠ” í•  í•„ìš”ì—†ë‹¤.
  
  
Node.js : https://nodejs.org/ko/


ì•„ë˜ ëª…ë ¹ì–´ëŠ” ì˜ ì„¤ì¹˜ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ë°©ë²•ì´ë‹¤.  
ë²„ì „ì„ ë³´ë©´ ë¨ ^^*


```terminal
$ node -v
v10.16.3

$ npm -v
6.14.10
```

# ğŸ¥¤ Gulp ì„¤ì¹˜í•˜ê¸°


#### 1. Gulp ì „ì—­ ì„¤ì¹˜
ì•„ë˜ ëª…ë ¹ì–´ëŠ” ì „ì—­ì— ì„¤ì¹˜í•˜ëŠ”ê±°ë‹¤.  
ì „ì—­ì— ì„¤ì¹˜í•˜ëŠ” ì´ìœ ëŠ” ì–´ë””ì„œë“  ë°”ë¡œ Gulp ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•˜ë ¤ëŠ”ê±°ì„! 

ë²„ì „ì„ í™•ì¸í•´ì„œ ì˜ ì„¤ì¹˜ë˜ì—ˆëŠ”ì§€ ë³´ì

```terminal
$ npm install --global gulp-cli
$ gulp -v
CLI version: 2.3.0
Local version: 4.0.2
```

<br><br>

#### 2. Gulp ë¡œì»¬ì— ì„¤ì¹˜
npm initëŠ” node í”„ë¡œê·¸ë¨ì„ ì‹œì‘í•˜ëŠ” ëª…ë ¹ì–´ë¡œ package.jsonì„ ì„¤ì¹˜í•œë‹¤.  
ëª…ë ¹ì–´ëŠ” ë‚´ê°€ ì‹¤í–‰í•  ë””ë ‰í† ë¦¬ì—ì„œ ì‹¤í–‰í•´ì•¼ë¨!! 

ê·¸ëŸ¬ë©´ ì•„ë˜ ìƒí™©ë“¤ì´ ë‚˜ì˜¤ëŠ”ë° ì…ë§›ì— ë§ê²Œ ì„¤ì •í•˜ë©´ ëœë‹¤.

ë‚˜ëŠ” ì¼ë‹¨ ì„¤ì¹˜ê°€ ëª©ì ì´ê¸° ë•Œë¬¸ì— ì—”í„°ë§Œ ëˆ„ë¥¸ë‹¤. (ë‚˜ì¤‘ì— ìˆ˜ì • ê°€ëŠ¥)

```terminal
$ npm init

package name: (test)
version: (1.0.0)
description:
entry point: (index.js)
test command:
git repository:
keywords:
author:
license: (ISC)
```

<br>

ì „ì—­ì—ë„ ì„¤ì¹˜í–ˆì§€ë§Œ ëª¨ë“ˆì„ ì„¤ì¹˜í•˜ê¸° ìœ„í•´ì„œ ê°™ì€ ë””ë ‰í† ë¦¬ì—  
ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•œë‹¤.

```terminal
$ npm install --save-dev gulp
```

<br><br>

#### 3-1. gulpfile.js ì…‹íŒ…í•˜ê¸°
Gulpë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ì„  gulpfile.jsë¥¼ ìƒì„±í•´ì¤˜ì•¼í•œë‹¤.  
ìë™ìœ¼ë¡œ ìƒê¸°ëŠ”ê²Œ ì•„ë‹ˆê¸°ë•Œë¬¸ì— ì§ì ‘ ìƒˆ íŒŒì¼ë¡œ ìƒì„±í•œë‹¤.



```javascript
// gulpfile.js

function defaultTask(cb) {
  console.log('ê±¸í”„ ì‹œì‘í•˜ê¸°')
  cb();
}

exports.default = defaultTask
```


ì´ì œ í„°ë¯¸ë„ì— gulpë¥¼ ì…ë ¥í•´ì£¼ë©´ ì•„ë˜ ì²˜ëŸ¼ ë‚˜ì˜¨ë‹¤.

```terminal
$ gulp
[14:59:59] Using gulpfile D:\Study\test2\gulpfile.js
[14:59:59] Starting 'default'...
ê±¸í”„ ì‹œì‘í•˜ê¸°
[14:59:59] Finished 'default' after 3.2 ms
```



<br>

**default**ëŠ” gulpë¥¼ ì‹¤í–‰í•˜ë©´ ì‹œì‘í•˜ëŠ” ë™ì‘ì„ ë§í•œë‹¤.  
í•¨ìˆ˜ defaultTaskë¥¼ ì‹¤í–‰ì‹œì¼°ê¸° ë•Œë¬¸ì— console.logì¸ "ê±¸í”„ ì‹œì‘í•˜ê¸°"ê°€ ë‚˜ì˜¨ë‹¤.


<br><br>

#### 3-2. Gulp ë©”ì„œë“œ 
ì•„ì£¼ì•„ì£¼ ê¸°ì´ˆì ì¸ê±´ ì„¤ì¹˜ê°€ ë˜ì—ˆë‹¤.  
ê·¼ë° ìš°ë¦¬ê°€ gulpë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„  ë©”ì„œë“œë¥¼ ì•Œì•„ë‘¬ì•¼ëœë‹¤.  
ë§ì€ ë©”ì„œë“œê°€ ìˆì§€ë§Œ ëŒ€í‘œì ìœ¼ë¡œ ì“°ì´ëŠ” ê²ƒë§Œ ì„¤ëª…í•˜ê² ìŒ

## `src` ë©”ì„œë“œ
ì‘ì—…í•  ëŒ€ìƒ ë˜ëŠ” **íŒŒì¼ì„ ì§€ì •**í•´ì£¼ëŠ” ëª…ë ¹ì–´

```javascript
gulp.src (globs) 
```
-   globs : ì–´ë–¤ íŒŒì¼ì„ ì½ì„ ê±´ì§€ ê²°ì •, íŒŒì¼ì„ ì„ íƒí•˜ëŠ” ë°©ì‹ì€ node-glob ë¬¸ë²•ì„ ë”°ë¥¸ë‹¤.

```javascript
gulp.src("./src/img/*")
```
<br><br>

## `pipe` ë©”ì„œë“œ
gulpì˜ ìŠ¤íŠ¸ë¦¬ë° ê¸°ëŠ¥ìœ¼ë¡œ srcë¡œ ëŒ€ìƒì„ ì •í–ˆìœ¼ë©´ ê° íŒŒì¼ì„ stream í˜•íƒœë¡œ ì½ì–´ ë‹¤ìŒ **í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œ ì—°ê²°**í•´ì£¼ëŠ” ëª…ë ¹ì–´

```javascript
gulp.src("./src/img/*").pipe(gulp.dest("./dist/img"));
```

<br><br>

## `dest` ë©”ì„œë“œ
ì‘ì—…ì´ ì¢…ë£Œëœ íŒŒì¼ì˜ **ì €ì¥ë˜ëŠ” ê²½ë¡œ**ë¥¼ ì§€ì •í•´ì£¼ëŠ” ëª…ë ¹ì–´

```javascript
gulp.dest(directory, [options])
```
-   dest : íŒŒì¼ì´ ê¸°ë¡ë  ë””ë ‰í† ë¦¬

```javascript
gulp.src("./src/img/*").pipe(gulp.dest("./dist/img"));
```


<br><br>

## `watch` ë©”ì„œë“œ
íŒŒì¼ì˜ ë³€ê²½, ì—…ë°ì´íŠ¸ ë“±ì„ **ê°ì§€í•˜ì—¬ ì‘ì—…ì„ ìˆ˜í–‰**í•˜ëŠ” ëª…ë ¹ì–´

```javascript
gulp.watch(globs , [ options ] , [ task ] )
```
-   globs : ê°ì‹œí•  íŒŒì¼

```javascript
function css() {
  return gulp.src('./src/scss/*.scss')
	.pipe(sass({outputStyle: 'compressed'}).on('error', sass.logError))
	.pipe(gulp.dest('./dist/css'));
}

gulp.watch("./src/scss/**/*", css);
```


<br><br>

## `task` ë©”ì„œë“œ
ì‘ì—…ì„ ì„ ì–¸í•˜ëŠ” ëª…ë ¹ì–´ë¡œ ì´ì œ **ë” ì´ìƒ ì“°ì´ì§€ ì•ŠëŠ”ë‹¤**.

<br><br>

## `series` ë©”ì„œë“œ
ì‘ì—…ë“¤ì„ ì¡°í•©í•˜ë©° ì‹¤í–‰í•˜ëŠ” ë©”ì„œë“œë¡œ **ìˆœì°¨ì ìœ¼ë¡œ** ì‹¤í–‰í•œë‹¤. ì§ë ¬êµ¬ì¡°

```javascript
gulp.series(...tasks)
```
-   tasks : ì‹¤í–‰í•  ì‘ì—…ë“¤

```javascript
gulp.series(css, js,img,html);
```

<br><br>

## `parallel` ë©”ì„œë“œ
ì‘ì—…ë“¤ì„ ì¡°í•©í•˜ë©° ì‹¤í–‰í•˜ëŠ” ë©”ì„œë“œë¡œ **ì„œë¡œ ê´€ë ¨ì—†ì´** ì‹¤í–‰í•œë‹¤. ë³‘ë ¬êµ¬ì¡°

```javascript
gulp.series(...tasks)
```
-   tasks : ì‹¤í–‰í•  ì‘ì—…ë“¤

```javascript
gulp.series(gulp.parallel(css, js, img,html));
```



<br><br>

#### 3-3. sass ì„¤ì¹˜
ì´ì œ ì›í•˜ëŠ” í”ŒëŸ¬ê·¸ì¸ë“¤ì„ ì„¤ì¹˜í•´ë³´ì.
ìš°ë¦¬ê°€ gulpë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ëŠ” ë‹¤ì–‘í•˜ì§€ë§Œ ì œì¼ í° ì´ìœ ëŠ” sassë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•¨ì´ ì•„ë‹Œê°€ ì‹¶ë‹¤.  
sassë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„  ë¹Œë“œ ì‹œìŠ¤í…œì´ í•„ìš”í•˜ê¸° ë•Œë¬¸ì´ë‹¤. 

ë‚˜ëŠ” dartSassë¥¼ ì„¤ì¹˜í•œë‹¤.
ì´ìœ ëŠ” ì—†ë‹¤ ê·¸ëƒ¥ ë”°ë¼í•´ë¼ (ë‚˜ì¤‘ì— ì„¤ëª…í•¨)

ì•„ë˜ì™€ ê°™ì´ ì„ ì–¸í•´ì£¼ë©´ ëœë‹¤.

-   [gulp-dart-sassì˜ ìì„¸í•œ ì‚¬ìš©ë°©ë²•](https://www.npmjs.com/package/gulp-dart-sass)
-   [sass ì˜µì…˜](https://github.com/sass/node-sass#options)

```teminal
$ npm install gulp-dart-sass --save-dev
```

```javascript
// gulpfile.js
const gulp = require('gulp'); //require()ì€ ES6ì˜ importë‘ ê°™ì€ ë©”ì„œë“œ
const sass = require('gulp-dart-sass'); 

function css() {
  return gulp.src('./src/scss/*.scss')
	.pipe(sass({outputStyle: 'compressed'}).on('error', sass.logError))
	.pipe(gulp.dest('./dist/css'));
}
```


<br><br>


#### 3-4. babel ì„¤ì¹˜
ê·¸ ë‹¤ìŒì€ javascript ES6ë²„ì „ì´í›„ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ babelì„ ì„¤ì¹˜í•´ì¤€ë‹¤.

ì•„ë˜ì™€ ê°™ì´ ì„ ì–¸í•´ì£¼ë©´ ëœë‹¤.
-   [gulp-babelì˜ ìì„¸í•œ ì‚¬ìš©ë°©ë²•](https://www.npmjs.com/package/gulp-babel)  
-   [babel ì˜µì…˜](https://babeljs.io/docs/en/options)  


```teminal
$ npm install --save-dev gulp-babel @babel/core @babel/preset-env
```


```javascript
// gulpfile.js
const gulp = require('gulp'); //require()ì€ ES6ì˜ importë‘ ê°™ì€ ë©”ì„œë“œ
const babel = require('gulp-babel');

function js(){
	return gulp.src('./src/js/*.js')
	.pipe(babel())
	.pipe(gulp.dest('./dist/js'))
}
```

<br><br>

#### 3-5. browser-sync ì„¤ì¹˜

ì‘ì—…ì„ í•˜ë©° ì¼ì¼íˆ ì €ì¥í•˜ê³  ì‹¤í–‰í•˜ê¸° ë²ˆê±°ë¡­ë‹¤...  
ì´ëŸ¬í•œ ë¶ˆí¸í•¨ì„ ê·¹ë³µí•˜ê¸° ìœ„í•´ browser-sync í”ŒëŸ¬ê·¸ì¸ì„ ì„¤ì¹˜í•´ì£¼ë©´ ë˜ëŠ”ë°  
íŒŒì¼ì´ ë°”ë€” ë•Œ ë§ˆë‹¤ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°˜ì˜í•´ì¤€ë‹¤.

-   [browsersync ì˜µì…˜](https://browsersync.io/docs/options/)  

```terminal
$ npm install browser-sync --save-dev
```

```javascript
const browsersync = require("browser-sync").create(); //browser-sync í˜¸ì¶œ

function server(done){
	return browsersync.init({
		port:8030, //ì‹¤í–‰í•  ë¡œì»¬ í¬íŠ¸ë¥¼ ì •í•´ì¤€ë‹¤.
		server:{
			baseDir: './dist/' //ì‹¤í–‰í•  ê¸°ë³¸ íŒŒì¼
		}
	});
	done()
}

function watchFiles() {
  gulp.watch('./src/*.html', browserSyncReload);
}

const watch = gulp.series(build, gulp.parallel(watchFiles, server));
```

<br><br>

#### 4. build
ë§ˆì§€ë§‰ìœ¼ë¡œ ë¹Œë“œí•˜ë©´ ë!!!!
í´ë”êµ¬ì¡°ëŠ” ë‚´ ë§ˆìŒëŒ€ë¡œì§€ë§Œ ì›í•˜ëŠ” ì…ë§›ëŒ€ë¡œ ë°”ê¾¸ë©´ ë˜ë‹ˆ ì°¸ê³ ë§Œ í•´ì£¼ì…ˆìš”  


```javascript
...

const build = gulp.series(gulp.parallel(css, js, img,html));
const watch = gulp.series(build, gulp.parallel(watchFiles, server));
	
exports.build = build;
exports.watch = watch;
exports.default = watch;
```




ì¼ë‹¨ì€ ë‚´ê°€ ì‚¬ìš©í•œ ê¸°ë³¸ í”ŒëŸ¬ê·¸ì¸ë“¤ì€ ì„¤ì •ë˜ì—ˆë‹¤.  
ì·¨í–¥ì— ë§ê²Œ í”ŒëŸ¬ê·¸ì¸ì„ ì¶”ê°€í•˜ê³  ì œê±°í•  ìˆ˜ ìˆìœ¼ë©°  
ìœ„ì˜ ê²ƒë“¤ì€ ì •ë§ ê¸°ë³¸ì´ë¼ì„œ ì›¬ë§Œí•˜ë©´ ì‚­ì œ ì•ˆí•˜ê³  ì­‰ ì“¸ ê²ƒ ê°™ë‹¤.











<br><br><br>

> <subtitle> refernece

-   <https://gulpjs.com/>
