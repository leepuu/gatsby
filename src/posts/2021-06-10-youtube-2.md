---
layout: post
title: "[Youtube] Youtube Player API - 2"
comments: false
categories: [youtube]
tags: [youtube, ytplayer, ytplayer API]
date: "2021-06-10"
image: youtube
---

# ğŸ¬ ë‹¤ì¤‘ ìœ íŠœë¸Œ ì‚½ì…

## 1ï¸âƒ£`<iframe>` íƒœê·¸ ì‚¬ìš©

### HTML

```html
  <ul class="video_list">
    <li class="item">
      <div class="video" id="video1">
        <iframe src="https://www.youtube.com/embed/Gvq4bawFRiU?enablejsapi=1" frameborder="0" allow="autoplay;" allowfullscreen></iframe>
      </div>
    </li>
    <li class="item">
      <div class="video" id="video2">
        <iframe src="https://www.youtube.com/embed/KqJ_AeSdBRM?enablejsapi=1" frameborder="0" allow="autoplay;" allowfullscreen></iframe>
      </div>
    </li>
  </ul>
```
- jsë¡œ ì»¨íŠ¸ë¡¤(ì¬ìƒ, ì¼ì‹œì •ì§€, ì •ì§€ ë“±) í•˜ê¸° ìœ„í•´ì„  ë¶€ëª¨ê°’ì— ì•„ì´ë””ëŠ” í•„ìˆ˜
- idê°’ì€ ê¼­ html ì´ ì•„ë‹ˆë”ë¼ë„ JSë¡œ ì‚½ì… ê°€ëŠ¥í•©ë‹ˆë‹¤.

### JavaScript
```javascript
// postMessageë¡œ youtube API ë°ì´í„° ì—°ê²°
function callPlayer(frame_id, func, args) {
  if (window.jQuery && frame_id instanceof jQuery) frame_id = frame_id.get(0).id;			
	
  var iframe = document.getElementById(frame_id);
    
  if (iframe && iframe.tagName.toUpperCase() != "IFRAME") {
    iframe = iframe.getElementsByTagName("iframe")[0];
  }

  if (iframe) {
    iframe.contentWindow.postMessage(JSON.stringify({
      event: "command",
      func: func,
      args: args || [],
      id: frame_id
    }), "*");
  }
}

//video1 ì œì–´
callPlayer("video1", "playVideo");

//video2 ì œì–´
callPlayer("video2", "playVideo");
```


## 2ï¸âƒ£ Youtube Player API ì‚¬ìš©
Youtube Plyer APIëŠ” ì´ 4ê°€ì§€ ë²„ì „ì´ ìˆìŠµë‹ˆë‹¤.ã…ã…  
### Ver1. ë‚˜ì—´
ë‹¨ìˆœ ë‚˜ì—´í•˜ì—¬ ì„ ì–¸í•˜ëŠ” ë°©ì‹
### HTML
```html
<ul class="video_list">
  <li class="item">
    <div class="video">
      <div class="youtube" id="youtube1"></div>
    </div>
  </li>
  <li class="item">
    <div class="video">
      <div class="youtube" id="youtube2"></div>
    </div>
  </li>
</ul>
```
### Javascript
```javascript
// Iframe Player API Data
var tag = document.createElement('script');
tag.src = "https://www.youtube.com/player_api";
var firstScriptTag = document.getElementsByTagName('script')[0];
firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

var player1,
    player2;

//video ID 
var playerLink1 = 'Gvq4bawFRiU',
    playerLink2 = 'Hm3wHd3JL2E';

//Run after Iframe Player API is loaded
function onYouTubePlayerAPIReady() {
  player1 = new YT.Player('youtube1',{
    videoId: playerLink1,
  });

  player2 = new YT.Player('youtube2',{
    videoId: playerLink2,
  });
}
```
<br><br><br>

### Ver2. ë² ì—´í˜ˆ
ë°°ì—´ì„ ì‚¬ìš©í•˜ì—¬ ì„ ì–¸í•˜ëŠ” ë°©ì‹
### HTML
```html
<ul class="video_list">
  <li class="item">
    <div class="video">
      <div class="youtube" id="youtube0"></div>
    </div>
  </li>
  <li class="item">
    <div class="video">
      <div class="youtube" id="youtube1"></div>
    </div>
  </li>
</ul>
```
### Javascript
```javascript
// Iframe Player API Data
var tag = document.createElement('script');
tag.src = "https://www.youtube.com/player_api";
var firstScriptTag = document.getElementsByTagName('script')[0];
firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

var youtube = document.querySelectorAll('.youtube');

//Video Id 
var link = ['Gvq4bawFRiU', 'Hm3wHd3JL2E'];
var player = [];

function onYouTubePlayerAPIReady() {
  for(var i = 0 ; i < youtube.length; i++){
    player[i] = new YT.Player('youtube' + [i], {
      videoId: link[i],   
    });
  }
}

//#youtube1 Control
player[0].playVideo();

//#youtube2 Control
player[1].playVideo();
```
<br><br><br>

### Ver3. data ì†ì„± ì‚¬ìš©
html ë‚´ data ì†ì„±ì„ ì‚¬ìš©í•˜ì—¬ ìœ íŠœë¸Œì˜ id ê°’ì„ ì„ ì–¸í•©ë‹ˆë‹¤.
### HTML
```html
<ul class="video_list">
  <li class="item">
    <div class="video">
      <div class="youtube" id="youtube0" data-link="Gvq4bawFRiU"></div>
    </div>
  </li>
  <li class="item">
    <div class="video">
      <div class="youtube" id="youtube1" data-link="Hm3wHd3JL2E"></div>
    </div>
  </li>
</ul>
```
### Javascript
```javascript
// Iframe Player API Data
var tag = document.createElement('script');
tag.src = "https://www.youtube.com/player_api";
var firstScriptTag = document.getElementsByTagName('script')[0];
firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

var youtube = document.querySelectorAll('.youtube');
var player = [];

function onYouTubePlayerAPIReady() {
  youtube.forEach((item, index) => {        
    player[index] = new YT.Player('youtube' + [index], {
      videoId: item.getAttribute('data-link'),    
    });
  });
}

//#youtube1 Control
player[0].playVideo();

//#youtube2 Control
player[1].playVideo();
```
- jsë¡œ ì»¨íŠ¸ë¡¤(ì¬ìƒ, ì¼ì‹œì •ì§€, ì •ì§€ ë“±) í•˜ê¸° ìœ„í•´ì„  ë³€ìˆ˜ëª…ì´ ë‹¬ë¼ì•¼í•©ë‹ˆë‹¤.


<br><br><br>

### Ver4. data ì†ì„± ì‚¬ìš©, id ì„ ì–¸
ver3ì˜ ì‘ìš©ë²„ì „ìœ¼ë¡œ, idê°’ì„ htmlì— ì§ì ‘ ì„ ì–¸í•˜ì§€ ì•Šê³  jsë¡œ idê°’ì„ ì§€ì •í•©ë‹ˆë‹¤.
### HTML
```html
<ul class="video_list">
  <li class="item">
    <div class="video">
      <div class="youtube" data-link="Gvq4bawFRiU"></div>
    </div>
  </li>
  <li class="item">
    <div class="video">
      <div class="youtube" data-link="Hm3wHd3JL2E"></div>
    </div>
  </li>
</ul>
```
### Javascript
```javascript
// Iframe Player API Data
var tag = document.createElement('script');
tag.src = "https://www.youtube.com/player_api";
var firstScriptTag = document.getElementsByTagName('script')[0];
firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

var youtube = document.querySelectorAll('.youtube');
var player = [];

function onYouTubePlayerAPIReady() {
  youtube.forEach((item, index) => {
    item.setAttribute('id','youtube' + index);
    
    player[index] = new YT.Player('youtube' + [index], {
      videoId: item.getAttribute('data-link'),
    });
  });
}

//#youtube1 Control
player[0].playVideo();

//#youtube2 Control
player[1].playVideo();
```